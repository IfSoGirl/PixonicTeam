{
    "type": "Ext.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "colleaguepanel",
        "designer|userClassName": "ColleaguePanel",
        "fullscreen": true,
        "hidden": false,
        "hideAnimation": null,
        "id": "colleaguePanel",
        "layout": "fit",
        "scrollable": null,
        "showAnimation": null,
        "style": null
    },
    "name": "ProfilePanel1",
    "configAlternates": {
        "showAnimation": "object",
        "hideAnimation": "object"
    },
    "designerId": "396d328f-060a-4373-8381-3a17369e0915",
    "cn": [
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "record"
                ],
                "fn": "setInfo",
                "implHandler": [
                    "   this.setData(record);",
                    "",
                    "    var contactsPanel = this.down('#mainCnt').down('#colleagueInfo');",
                    "    contactsPanel.setInfo(record);",
                    "",
                    "    var infoLabel = Ext.getCmp('infoLabel');",
                    "    var infoHtml = '<div style = \"padding: 0px 10px 0px 10px\"> <span style = \"font-weight: bold; \">Доп. информация: <span style = \"font-weight: normal; font-size: 14px\"> {info}</div>';",
                    "    infoLabel.setHtml(infoHtml.replace(\"{info}\",record.data.info));",
                    "    this.updateSocialButtons(record);",
                    ""
                ]
            },
            "name": "setInfo",
            "designerId": "5f230744-c145-41ff-bee8-7e28a7c36b4e"
        },
        {
            "type": "Ext.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "docked": null,
                "height": null,
                "id": "mainCnt",
                "layout": "vbox",
                "scrollable": "vertical"
            },
            "name": "MyPanel",
            "designerId": "a90262b9-09c9-441c-84a9-001331be2a80",
            "cn": [
                {
                    "type": "linkedinstance",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "stretch",
                        "id": "colleagueInfo",
                        "layout|flex": null
                    },
                    "name": "profileinfo",
                    "designerId": "fb79d081-fffb-49b0-91a8-ece684bc8f39",
                    "masterInstanceId": "1a089dfd-4555-4436-9455-9dd0337eb47f"
                },
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": "",
                        "html": "Доп. информация:",
                        "id": "infoLabel",
                        "minHeight": "30px",
                        "style": null
                    },
                    "name": "MyLabel4",
                    "designerId": "07fb2afc-38d0-49f3-9ca8-b425347ca8dc"
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|pack": "center",
                        "docked": null,
                        "height": "80px",
                        "id": "socialsCnt",
                        "layout": "hbox",
                        "style": "border-top: 2px solid rgb(195,195,195)"
                    },
                    "name": "MyContainer5",
                    "designerId": "fb0918ca-169a-49a4-a17c-087dc5964fd2",
                    "cn": [
                        {
                            "type": "Ext.Img",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 75,
                                "id": "instagramBtn",
                                "itemId": "myimg1",
                                "src": "resources/css/images/buttons/insta.active.png",
                                "width": 75
                            },
                            "name": "MyImg1",
                            "designerId": "fd9103ef-8c73-4310-954a-1ec40e6debca",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onInstagramBtnTap",
                                        "implHandler": [
                                            "    this.onSocialButtonTap(image.getData());"
                                        ],
                                        "name": "tap"
                                    },
                                    "name": "onInstagramBtnTap",
                                    "designerId": "4cde1dc4-a9bd-4963-abb8-d937b5735d0b"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Img",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 75,
                                "id": "facebookBtn",
                                "itemId": "myimg2",
                                "src": "resources/css/images/buttons/fb.active.png",
                                "width": 75
                            },
                            "name": "MyImg2",
                            "designerId": "f35adc39-a5f8-4eb9-8c0f-e565b54518ab",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onFacebookBtnTap",
                                        "implHandler": [
                                            "    this.onSocialButtonTap(image.getData());"
                                        ],
                                        "name": "tap"
                                    },
                                    "name": "onFacebookBtnTap",
                                    "designerId": "33536615-3a2f-4e7d-ab66-786c1def6b5a"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Img",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 75,
                                "id": "vkBtn",
                                "itemId": "myimg4",
                                "src": "resources/css/images/buttons/vk.active.png",
                                "width": 75
                            },
                            "name": "MyImg4",
                            "designerId": "5f64523f-a48c-4ca0-80aa-7dee7b1691fe",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onVkBtnTap",
                                        "implHandler": [
                                            "    this.onSocialButtonTap(image.getData());"
                                        ],
                                        "name": "tap"
                                    },
                                    "name": "onVkBtnTap",
                                    "designerId": "8aace960-3db7-4d8d-bd23-daeb385b89cd"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Img",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "backgroundCls": null,
                                "height": 75,
                                "id": "twitterBtn",
                                "itemId": "myimg3",
                                "src": "resources/css/images/buttons/twitter.active.png",
                                "style": "background-repeat: no-repeat",
                                "width": 75
                            },
                            "name": "MyImg3",
                            "designerId": "717c124a-2817-49af-b4de-5e987e3be3ce",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onTwitterBtnTap",
                                        "implHandler": [
                                            "        this.onSocialButtonTap(image.getData());"
                                        ],
                                        "name": "tap"
                                    },
                                    "name": "onTwitterBtnTap",
                                    "designerId": "90d02994-9079-4059-98c1-6fcff158ece2"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "data"
                ],
                "fn": "onSocialButtonTap",
                "implHandler": [
                    "    if (!data)",
                    "        return;",
                    "",
                    "    if (!data[\"id\"])",
                    "        return;",
                    "",
                    "    var url =  data[\"id\"];",
                    "    mainController.openUrl(url, true);"
                ]
            },
            "name": "onSocialButtonTap",
            "designerId": "e4923a1c-651a-48a3-8172-ab6fe482ba41"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "record"
                ],
                "fn": "updateSocialButtons",
                "implHandler": [
                    "    var twBtn = Ext.getCmp('twitterBtn');",
                    "    twBtn.setData({\"id\" : record.data.idTwitter});",
                    "    var twSrc = \"resources/css/images/buttons/twitter.active.png\";",
                    "    if (!record.data.idTwitter)",
                    "        twSrc = twSrc.replace(\"active\",\"disabled\");",
                    "",
                    "    twBtn.setSrc(twSrc);",
                    "",
                    "    var vkBtn = Ext.getCmp('vkBtn');",
                    "    vkBtn.setData({\"id\" : record.data.idVKontakte});",
                    "    var vkSrc = \"resources/css/images/buttons/vk.active.png\";",
                    "    if (!record.data.idVKontakte)",
                    "        vkSrc = vkSrc.replace(\"active\",\"disabled\");",
                    "",
                    "    vkBtn.setSrc(vkSrc);",
                    "",
                    "",
                    "",
                    "    var fbBtn = Ext.getCmp('facebookBtn');",
                    "    fbBtn.setData({\"id\" : record.data.idFacebook});",
                    "    var fbSrc = \"resources/css/images/buttons/fb.active.png\";",
                    "    if (!record.data.idFacebook)",
                    "        fbSrc = fbSrc.replace(\"active\",\"disabled\");",
                    "",
                    "    fbBtn.setSrc(fbSrc);",
                    "",
                    "    var instBtn = Ext.getCmp('instagramBtn');",
                    "    instBtn.setData({\"id\" : record.data.idInstagram});",
                    "    var instSrc = \"resources/css/images/buttons/insta.active.png\";",
                    "    if (!record.data.idInstagram)",
                    "        instSrc = instSrc.replace(\"active\",\"disabled\");",
                    "",
                    "    instBtn.setSrc(instSrc);",
                    ""
                ]
            },
            "name": "updateSocialButtons",
            "designerId": "760525e7-5566-4e16-af36-a1ef6da2919b"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "targetClass",
                    "data"
                ],
                "fn": "onContactsButtonTap",
                "implHandler": [
                    "",
                    "",
                    "    if (targetClass == 'phone-url') {",
                    "                mainController.openUrl(\"tel:\" +mainController.parsePhoneForCall(data['phone']),true);",
                    "                return;",
                    "            }",
                    "",
                    "            if (targetClass == 'skype-url') {",
                    "                mainController.openUrl(\"skype:\"+data['skype']+\"?call\",true);",
                    "                return;",
                    "            }",
                    "",
                    "            if (targetClass == 'mail-url') {",
                    "                mainController.openUrl(\"mailTo:\"+data['email'],true);",
                    "                return;",
                    "            }"
                ]
            },
            "name": "onContactsButtonTap",
            "designerId": "67d2faa8-fa2c-439b-812e-4e8a75d109db"
        }
    ]
}