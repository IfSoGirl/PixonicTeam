{
    "type": "Ext.navigation.View",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "autoDestroy": false,
        "defaultBackButtonText": "Назад",
        "designer|userClassName": "EmployeesNav",
        "id": "employeeNav"
    },
    "name": "MyNavigationView",
    "designerId": "84b0444e-349a-4fdb-a99a-1a69587f590e",
    "cn": [
        {
            "type": "Ext.navigation.Bar",
            "reference": {
                "name": "navigationBar",
                "type": "object"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "toolbar"
                ],
                "container|align": "end",
                "designer|uiInterfaceName": "light",
                "docked": "top",
                "height": null,
                "id": "navBar",
                "itemId": "navBar",
                "ui": "light"
            },
            "name": "MyNavigationBar",
            "designerId": "29a18810-dd94-46f6-85ce-5df022d09c87",
            "cn": [
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "action": "menuButtonPressed",
                        "id": "menuBtnNav",
                        "itemId": "menuBtnNav",
                        "text": "Меню"
                    },
                    "name": "MyButton5",
                    "designerId": "1defdf70-d0f4-4364-b7bc-68256e8b30ea",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "action",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onMynavigationbarBack",
                        "implHandler": [
                            "    setTimeout(function() {",
                            "        var menuBtn = Ext.getCmp('menuBtnNav');",
                            "        menuBtn.show();},",
                            "     350);"
                        ],
                        "name": "back"
                    },
                    "name": "onMynavigationbarBack",
                    "designerId": "962f8d97-41e3-4b93-b27b-a9c0d0d40ee1"
                }
            ]
        },
        {
            "type": "Ext.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "id": "searchContainer",
                "layout": "vbox",
                "title": "Сотрудники"
            },
            "name": "MyContainer2",
            "designerId": "2afb605e-01c8-4f5c-bc42-a10d010e87cc",
            "cn": [
                {
                    "type": "Ext.field.Search",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "cls": [
                            "search-label"
                        ],
                        "designer|createAlias": null,
                        "height": "40px",
                        "id": "employeeSearch",
                        "itemId": "employeeSearch",
                        "label": null,
                        "labelCls": null,
                        "placeHolder": "ПОИСК",
                        "style": null
                    },
                    "name": "MySearchField",
                    "designerId": "fe0cb6fe-1148-4093-8245-e684cf4daa75",
                    "cn": [
                        {
                            "type": "delegateeventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|targetType": "Ext.field.Search",
                                "fn": "onSearchfieldKeyup",
                                "implHandler": [
                                    "    var searchString = textfield.getValue().toLowerCase();",
                                    "    var store = Ext.getStore('EmployeeStore');",
                                    "    store.clearFilter();",
                                    "    if(searchString){",
                                    "        store.filterBy(function(record) {",
                                    "            var name =  record.get('name').toLowerCase();",
                                    "            return (name.indexOf(searchString)  >= 0);",
                                    "        });",
                                    "    }"
                                ],
                                "name": "keyup"
                            },
                            "name": "onSearchfieldKeyup",
                            "designerId": "ea252029-32bf-49ac-820d-8b040b2e3fc7"
                        },
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onEmployeeSearchClearicontap",
                                "implHandler": [
                                    "        Ext.getStore('EmployeeStore').clearFilter();"
                                ],
                                "name": "clearicontap"
                            },
                            "name": "onEmployeeSearchClearicontap",
                            "designerId": "0660737d-e164-4cc7-9ed8-9ceb3a51789a"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "stretchmax",
                        "height": "35px",
                        "id": "labelsContainer",
                        "layout": "hbox"
                    },
                    "name": "MyContainer3",
                    "designerId": "22f52c80-a5c3-422d-9177-eb63f4c75487",
                    "cn": [
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "cls": [
                                    "transparent"
                                ],
                                "id": "alphabetButton",
                                "labelCls": "alphabet-underline",
                                "style": null,
                                "text": "ПО АЛФАВИТУ"
                            },
                            "name": "MyButton6",
                            "designerId": "5a137174-54e2-425e-94db-4a00b212bc69",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "                                    button.setLabelCls('alphabet-underline');",
                                            "                                    var officeBtn = Ext.getCmp('officeButton');",
                                            "                                    officeBtn.setLabelCls('alphabet-label');"
                                        ]
                                    },
                                    "name": "handler",
                                    "designerId": "0e413d93-86e0-4b15-ae95-87687c1b6869"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "cls": [
                                    "transparent"
                                ],
                                "docked": "right",
                                "id": "officeButton",
                                "labelCls": "alphabet-label",
                                "text": "ПО ОФИСАМ"
                            },
                            "name": "MyButton7",
                            "designerId": "e57fcb9b-3700-48a3-9009-e67cd538dd50",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "                                    button.setLabelCls('alphabet-underline');",
                                            "                                    var alphabetBtn = Ext.getCmp('alphabetButton');",
                                            "                                    alphabetBtn.setLabelCls('alphabet-label');"
                                        ]
                                    },
                                    "name": "handler",
                                    "designerId": "f497d80e-5bdf-44ab-949a-fb1ff6d2e1c8"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.dataview.List",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "cls": [
                            "tpl-ylovd7t6"
                        ],
                        "data": null,
                        "docked": null,
                        "grouped": true,
                        "height": null,
                        "id": "employeeList",
                        "itemHeight": 80,
                        "itemId": "mylist1",
                        "layout|flex": 1,
                        "onItemDisclosure": null,
                        "pressedCls": "list-item-pressed",
                        "selectedCls": "list-item-selected",
                        "store": "EmployeeStore",
                        "striped": true,
                        "width": null
                    },
                    "name": "MyList1",
                    "configAlternates": {
                        "onItemDisclosure": "object"
                    },
                    "designerId": "475e92d9-f3fa-41e8-9910-4e8249b6854e",
                    "cn": [
                        {
                            "type": "Ext.XTemplate",
                            "reference": {
                                "name": "itemTpl",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "itemTpl",
                                "implHandler": [
                                    "<div style = \"height:80px;\"> ",
                                    "    <div style = \"float:left; margin-right: 10px;\">",
                                    "      <img src = {photo} style=\"height:80px; width: 80px\" />    ",
                                    "    </div>",
                                    "    <h3 class=\"list-item-header\">{name}</h3>",
                                    "    <span class=\"post\">{post}</span><br>",
                                    "    <span style = \"font-size: 16px\"> Тел. <span class = \"phone-url\" style=\"color: blue\" > {phone} </span></span><br>",
                                    "    <span style = \"font-size: 16px\"> Skype <span class = \"skype-url\" style=\"color: blue\"> {skype}</span> </span>",
                                    "</div>"
                                ]
                            },
                            "name": "itemTpl",
                            "designerId": "3858750a-4f41-4b9f-813b-9bbee31ebb23"
                        },
                        {
                            "type": "delegateeventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|targetType": "Ext.dataview.List",
                                "fn": "onListItemTap",
                                "implHandler": [
                                    "    e.stopEvent();",
                                    "    if (e.target.className == 'phone-url') {",
                                    "        mainController.openUrl(\"tel:\" +mainController.parsePhoneForCall(record.data.phone),true);",
                                    "        return;",
                                    "    }",
                                    "",
                                    "    if (e.target.className == 'skype-url') {",
                                    "        mainController.openUrl(\"skype:\"+record.data.skype+\"?call\",true);",
                                    "        return;",
                                    "    }",
                                    "",
                                    "    var menuBtn = Ext.getCmp('menuBtnNav');",
                                    "    menuBtn.hide();",
                                    "    setTimeout(function(){dataview.deselect(index);},500);",
                                    "",
                                    "",
                                    "    var panel = Ext.getCmp('colleaguePanel');",
                                    "    panel.setInfo(record);",
                                    "    this.push(panel);",
                                    "",
                                    ""
                                ],
                                "name": "itemtap"
                            },
                            "name": "onListItemTap",
                            "designerId": "8d4aa77e-aa0c-45ed-9c80-9618b3019c2b"
                        }
                    ]
                }
            ]
        }
    ]
}